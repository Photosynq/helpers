function ArrayNth(r,t,n){if(!Array.isArray(r))return null;if((void 0===n||n<0||null===n)&&(n=0),(void 0===t||t<1||null===t)&&(t=1),!Number.isInteger(t))return null;if(!Number.isInteger(n))return null;if(0==r.length&&(t>1||n>0))return null;var e=[];for(i=n;i<r.length;i+=t)e.push(r[i]);return e}function ArrayRange(r,t,n,e){if(void 0===r||"number"!=typeof r)return null;if(void 0===t&&(t=r,r=0),"number"!=typeof t)return null;if(null==n&&(n=1),"number"!=typeof n||0==n)return null;if(void 0===e&&(e="none"),-1==["none","log","ln","x2"].indexOf(e))return null;for(var a=[];n>0?t>r:t<r;)"none"==e&&a.push(r),"log"==e&&a.push(Math.log(r)/Math.LN10),"ln"==e&&a.push(Math.log(r)),"x2"==e&&a.push(Math.pow(r,2)),r+=n;return a}function ArrayUnZip(r){if(void 0===r||0==r.length||!Array.isArray(r)||!Array.isArray(r[0]))return null;for(var t={x:[],y:[]},n=0,e=r.length;n<e;n++)t.x.push(r[n][0]||null),t.y.push(r[n][1]||null);return t}function ArrayZip(r,t){if(void 0===r||void 0===t||!Array.isArray(r)||!Array.isArray(t)||r.length!=t.length)return null;for(var n=[],e=0,a=r.length;e<a;e++)n.push([r[e],t[e]]);return n}function GetIndexByLabel(r,t,n){if(void 0===r)return null;void 0===n&&(n=!1);var e=t.set.map(function(t,n){return t.label==r?n:null}).filter(Number);return 0==e.length?null:1==e.length?n?e:e[0]:e}function GetLabelLookup(r){var t={};if(void 0===r.set)return null;for(var n in r.set)void 0!==r.set[n].label?(void 0===t[r.set[n].label]&&(t[r.set[n].label]=[]),t[r.set[n].label].push(n)):(void 0===t.unknown&&(t.unknown=[]),t.unknown.push(n));return 0==Object.keys(t).length?null:t}function GetProtocolByLabel(r,t,n){if(void 0===r)return null;void 0===n&&(n=!1);var e=t.set.filter(function(t){return t.label==r});return 0==e.length?null:1==e.length?n?e:e[0]:e}function MathLINREG(r,t){var n=!1,e=r.length;if(e==t.length){for(var a=MathSUM(r),o=MathSUM(t),u=0,s=0,i=0,l=0;l<e;l++)s+=r[l]*t[l],u+=r[l]*r[l],i+=t[l]*t[l];var f=(e*s-a*o)/(e*u-a*a),h=(o-f*a)/e,p=(s-1/e*a*o)/Math.sqrt((u-1/e*Math.pow(a,2))*(i-1/e*Math.pow(o,2)));n={m:f,b:h,r:p,r2:p*p}}return n}function MathLN(r){var t=!1;return r&&(t=Math.log(r)),parseFloat(t)}function MathLOG(r){var t=!1;return r&&(t=Math.log(r)/Math.LN10),parseFloat(t)}function MathMAX(r){var t=!1;if(r&&Array.isArray(r))for(i=0;i<r.length;i++){if(!Number(r[i])&&null!==r[i]&&0!=r[i])return parseFloat(Number(r[i]));t?Number(r[i])>t&&(t=Number(r[i])):t=Number(r[i])}return parseFloat(t)}function MathMEAN(r){var t=!1,n=0;if(r&&Array.isArray(r)){for(var e=0,a=r.length;e<a;e++)if(null!==r[e]){if(!Number(r[e])&&null!==r[e]&&0!=r[e])return parseFloat(!Number(r[e]));t+=Number(r[e]),n++}t/=n}return parseFloat(t)}function MathMEDIAN(r){var t=!1;if(r&&Array.isArray(r)){if(r.some(function(r){return!Number(r)&&null!==r&&0!=r}))return parseFloat(t);(r=r.filter(function(r){return!(null===r||!Number(r)&&0!=r)})).sort(function(r,t){return r<t?-1:r>t?1:0});var n=r.length;n%2==0&&(t=(Number(r[n/2-1])+Number(r[n/2]))/2),Math.abs(n)%2==1&&(t=r[Math.floor(n/2)])}return parseFloat(t)}function MathMIN(r){var t=!1;if(r&&Array.isArray(r))for(i=0;i<r.length;i++){if(!Number(r[i])&&null!==r[i]&&0!=r[i])return parseFloat(Number(r[i]));t?Number(r[i])<t&&(t=Number(r[i])):t=Number(r[i])}return parseFloat(t)}function MathROUND(r,t){t=void 0!==t?t:2;var n=!1;return null===r||"object"==typeof r||""===r?parseFloat(n):0==Number(r)?0:(r&&parseInt(t)>=0&&(n=Math.round(Number(r)*Math.pow(10,t))/Math.pow(10,t)),parseFloat(n))}function MathSTDERR(r){var t=!1;if(r&&Array.isArray(r)){if(r.some(function(r){return!Number(r)&&null!==r&&0!=r}))return parseFloat(t);if(r.length>2){for(var n=!1,e=0,a=0,o=r.length;a<o;a++)if(null!==r[a]){if(!Number(r[a])&&null!==r[a]&&0!=r[a])return parseFloat(!Number(r[a]));n+=Number(r[a]),e++}n/=e;var u=[],s=!1;for(a=0,o=r.length;a<o;a++)if(null!==r[a]){var i=Math.pow(r[a]-n,2);s+=i,u.push(i)}stdev=Math.sqrt(s/e),t=stdev/Math.sqrt(e)}}return parseFloat(t)}function MathSTDEV(r){var t=!1;if(r&&Array.isArray(r)){if(r.some(function(r){return!Number(r)&&null!==r&&0!=r}))return parseFloat(t);if((r=r.filter(function(r){return!(null===r||!Number(r)&&0!=r)})).length>2){for(var n=!1,e=0,a=0,o=r.length;a<o;a++)if(null!==r[a]){if(!Number(r[a])&&null!==r[a]&&0!=r[a])return parseFloat(!Number(r[a]));n+=Number(r[a]),e++}n/=e;var u=[],s=!1;for(a=0,o=r.length;a<o;a++){var i=Math.pow(r[a]-n,2);s+=i,u.push(i)}t=Math.sqrt(s/r.length)}}return parseFloat(t)}function MathSTDEVS(r){var t=!1;if(r&&Array.isArray(r)){if(r.some(function(r){return!Number(r)&&null!==r&&0!=r}))return parseFloat(t);if((r=r.filter(function(r){return!(null===r||!Number(r)&&0!=r)})).length>2){for(var n=!1,e=0,a=0,o=r.length;a<o;a++)if(null!==r[a]){if(!Number(r[a])&&null!==r[a]&&0!=r[a])return parseFloat(!Number(r[a]));n+=Number(r[a]),e++}n/=e;var u=[],s=!1;for(a=0,o=r.length;a<o;a++){var i=Math.pow(r[a]-n,2);s+=i,u.push(i)}t=Math.sqrt(s/(r.length-1))}}return parseFloat(t)}function MathSUM(r){var t=!1;if(r&&Array.isArray(r))for(var n=0,e=r.length;n<e;n++)if(null!==r[n]){if(!Number(r[n])&&0!=r[n]){t=!1;break}t+=Number(r[n])}return parseFloat(t)}function MathVARIANCE(r){var t=!1,n=!1,e=0;if(r&&Array.isArray(r)){if(r.some(function(r){return!Number(r)&&null!==r&&0!=r})||0==r.length)return parseFloat(t);for(var a=0,o=(r=r.filter(function(r){return!(null===r||!Number(r)&&0!=r)})).length;a<o;a++)if(null!==r[a]){if(!Number(r[a])&&null!==r[a]&&0!=r[a])return parseFloat(!Number(r[a]));n+=Number(r[a]),e++}for(n/=e,a=0;a<r.length;a++)t+=Math.pow(r[a]-n,2);t=1/(r.length-1)*t}return parseFloat(t)}function info(r,t){void 0===t.messages&&(t.messages={}),void 0===t.messages.info&&(t.messages.info=[]),t.messages.info.push(r)}function warning(r,t){void 0===t.messages&&(t.messages={}),void 0===t.messages.warning&&(t.messages.warning=[]),t.messages.warning.push(r)}function danger(r,t){void 0===t.messages&&(t.messages={}),void 0===t.messages.danger&&(t.messages.danger=[]),t.messages.danger.push(r)}function NonLinearRegression(r,t){var n={iterations:void 0===t.iterations||t.iterations>2e3?200:t.iterations,cPts:r.length||0,cVar:t.variables||1,cPar:t.initial.length||0,equation:t.equation||"",RelaxF:t.RelaxF||1,SEy:t.SEy||1,yTrans:"Y",x1Trans:"X",x2Trans:"X2",x3Trans:"X3",x4Trans:"X4",x5Trans:"X5",x6Trans:"X6",x7Trans:"X7",x8Trans:"X8",Centered:t.Centered||!1,LeastAbs:t.LeastAbs||!1,cPctile:t.Percentile||50},e={ca:t.initial[0]||0,cb:t.initial[1]||0,cc:t.initial[2]||0,cd:t.initial[3]||0,ce:t.initial[4]||0,cf:t.initial[5]||0,cg:t.initial[6]||0,ch:t.initial[7]||0,sa:1,sb:1,sc:1,sd:1,se:1,sf:1,sg:1,sh:1,pva:0,pvb:0,pvc:0,pvd:0,pve:0,pvf:0,pvg:0,pvh:0};function a(r,t){var n=(r=Math.abs(r))/Math.sqrt(t),e=Math.atan(n);if(1==t)return 1-e/(Math.PI/2);var a=Math.sin(e),u=Math.cos(e);return t%2==1?1-(e+a*u*o(u*u,2,t-3,-1))/(Math.PI/2):1-a*o(u*u,1,t-3,-1)}function o(r,t,n,e){for(var a=1,o=a,u=t;u<=n;)o+=a=a*r*u/(u-e),u+=2;return o}function u(r,t){return r>t?r:t}function s(r){var t;return Math.abs(r)<5e-5&&(r=0),(t=(t=r>=0?" "+(r+5e-5):" "+(r-5e-5)).substring(0,t.indexOf(".")+5)).substring(t.length-10,t.length)}function i(r){var t;return Math.abs(r)<5e-7&&(r=0),(t=(t=r>=0?" "+(r+5e-7):" "+(r-5e-7)).substring(0,t.indexOf(".")+7)).substring(t.length-18,t.length)}function l(r,t){return r*(n.cPar+1)+t}var f=[0,0,0,0,0,0,0,0],h=[1,1,1,1,1,1,1,1],p=[0,0,0,0,0,0,0,0,0],c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d=[0,0,0,0,0,0,0,0,0],M=0,m=0,b=1,y=0,x=1;function N(r,t,e){r=r;var o=0,N=0,T=0;dgfr=t.cPts-t.cPar;var R=function(r,t){for(var n=.5,e=.5,o=0;e>1e-15;)e/=2,a(o=1/n-1,t)>r?n-=e:n+=e;return o}(.05,dgfr),P=t.cPctile/100,S=e.ca;f[0]=S;var w=e.cb;f[1]=w;var V=e.cc;f[2]=V;var L=e.cd;f[3]=L;var E=e.ce;f[4]=E;var q=e.cf;f[5]=q;var X=e.cg;f[6]=X;var F=e.ch;f[7]=F;var I="Y = "+t.equation+"\n";for(M=1;M<=t.cVar;M++)I+=" x"+M+" ";I+=" Y yc Y-yc SEest YcLo YcHi \n";var C=0;for(Z=0;Z<t.cPar*(t.cPar+1);Z++)c[Z]=0;for(M=1;M<=t.cPts;M++){for(Z=0;Z<t.cVar;Z++)d[Z]=r[M-1][0],v=r[M-1][1];var Q=d[0];"LN(X2)"==t.x1Trans&&(Q=Math.log(d[0])),"SQRT(X2)"==t.x2Trans&&(Q=Math.sqrt(d[0])),"1/X2"==t.x2Trans&&(Q=1/d[0]);var G=Q;d[1];"LN(X2)"==t.x2Trans&&Math.log(d[1]),"SQRT(X2)"==t.x2Trans&&Math.sqrt(d[1]),"1/X2"==t.x2Trans&&1/d[1];d[2];"LN(X3)"==t.x3Trans&&Math.log(d[2]),"SQRT(X3)"==t.x3Trans&&Math.sqrt(d[2]),"1/X3"==t.x3Trans&&1/d[2];d[3];"LN(X4)"==t.x4Trans&&Math.log(d[3]),"SQRT(X4)"==t.x4Trans&&Math.sqrt(d[3]),"1/X4"==t.x4Trans&&1/d[3];d[4];"LN(X5)"==t.x5Trans&&Math.log(d[4]),"SQRT(X5)"==t.x5Trans&&Math.sqrt(d[4]),"1/X5"==t.x5Trans&&1/d[4];d[5];"LN(X6)"==t.x6Trans&&Math.log(d[5]),"SQRT(X6)"==t.x6Trans&&Math.sqrt(d[5]),"1/X6"==t.x6Trans&&1/d[5];d[6];"LN(X7)"==t.x7Trans&&Math.log(d[6]),"SQRT(X7)"==t.x7Trans&&Math.sqrt(d[6]),"1/X7"==t.x7Trans&&1/d[6];d[7];"LN(X8)"==t.x8Trans&&Math.log(d[7]),"SQRT(X8)"==t.x8Trans&&Math.sqrt(d[7]),"1/X8"==t.x8Trans&&1/d[7];var _=A(t.equation,S,w,V,L,E,q,X,F,Q,G);if(Y=r[M-1][1],"Rep"==t.SEy){var U=Y,D=Y*Y;1,U+=Y,D+=Y*Y,Y=U/2;var O=Math.sqrt(Math.abs(D/2-Y*Y)/2)}yo=Y;var j=1;"w"==t.SEy&&(j=v),"Rep"==t.SEy&&(j=O),"Sqrt(Y)"==t.SEy&&(j=Math.sqrt(Y)),0==j&&(j=.001);var k=t.yTrans.toUpperCase(),B=Y;"LN(Y)"==k&&(B=Math.log(Y)),"LN(SQRT)"==k&&(B=Math.sqrt(Y)),"1/Y"==k&&(B=1/Y),"LN(Y)"==k&&(j/=Y),"SQRT(Y)"==k&&(j/=B),"1/Y"==k&&(j=j/Y*Y),Y=B,t.LeastAbs&&(j*=Y<_?u(Math.sqrt(P*Math.abs(Y-_)),.001*Y):u(Math.sqrt((1-P)*Math.abs(Y-_)),.001*Y)),o+=1/(j*j),N+=_/(j*j),T+=(Y-y)*(Y-y)/(j*j);for(var Z=0;Z<t.cPar;Z++){var z=f[Z];if(0==f[Z])var H=1e-4;else H=f[Z]/1e3;f[Z]+=H,S=f[0],w=f[1],V=f[2],L=f[3],E=f[4],q=f[5],X=f[6],F=f[7],ycIncr=A(t.equation,S,w,V,L,E,q,X,F,Q,G),p[Z]=(ycIncr-_)/(H*j),t.Centered&&(f[Z]-=H,S=f[0],w=f[1],V=f[2],L=f[3],E=f[4],q=f[5],X=f[6],F=f[7],ycDecr=A(t.equation,S,w,V,L,E,q,X,F,Q,G),p[Z]=(ycIncr-ycDecr)/(2*H*j)),f[Z]=z,S=f[0],w=f[1],V=f[2],L=f[3],E=f[4],q=f[5],X=f[6],F=f[7]}for(p[t.cPar]=(Y-_)/j,C+=p[t.cPar]*p[t.cPar],Z=0;Z<t.cPar;Z++)for(m=0;m<=t.cPar;m++)c[l(Z,m)]=c[l(Z,m)]+p[Z]*p[m];var J=0;for(Z=0;Z<t.cPar;Z++)for(J+=g[l(Z,Z)]*p[Z]*p[Z],m=Z+1;m<t.cPar;m++)J+=2*g[l(Z,m)]*p[Z]*p[m];var K=_,W=_-R*(J=j*Math.sqrt(J)),$=_+R*J;"LN(Y)"==k&&(K=Math.exp(_),W=Math.exp(W),$=Math.exp($)),"SQRT(Y)"==k&&(K=_*_,W*=W,$*=$),"1/Y"==k&&(K=1/_,W=1/W,$=1/$),I+=s(yo)+s(K)+s(yo-K)+s(J)+s(W)+s($)+"\n"}y=N/(b=o);var rr=((x=T/b)-C/b)/x;for(I+="\nCorr. Coeff. = "+i(Math.sqrt(rr))+"; r*r = "+i(rr),RMS=Math.sqrt(C/u(1,dgfr)),I+="\nRMS Error = "+i(RMS)+"; d.f = "+dgfr+"; SSq = "+i(C)+"\n",AIC=t.cPts*Math.log(C/t.cPts)+2*(t.cPar+1),t.cPts>=t.cPar+2?AICc=AIC+2*(t.cPar+1)*(t.cPar+1+1)/(t.cPts-(t.cPar+1)-1):AICc=AIC,I+="AIC = "+i(AIC)+"; AIC(corrected) = "+i(AICc)+"\n",M=0;M<t.cPar;M++){var tr=c[l(M,M)];for(c[l(M,M)]=1,m=0;m<=t.cPar;m++)c[l(M,m)]=c[l(M,m)]/tr;for(Z=0;Z<t.cPar;Z++)if(M!=Z)for(tr=c[l(Z,M)],c[l(Z,M)]=0,m=0;m<=t.cPar;m++)c[l(Z,m)]=c[l(Z,m)]-tr*c[l(M,m)]}var nr="\nParameter Estimates...\n",er=[];for(M=0;M<t.cPar;M++)f[M]=f[M]+t.RelaxF*c[l(M,t.cPar)],h[M]=RMS*Math.sqrt(c[l(M,M)]),nr+="p"+(M+1)+"="+i(f[M])+" +/- "+i(h[M])+"; p="+s(a(f[M]/h[M],dgfr))+"\n",er.push({name:"P"+(M+1),value:f[M],sd_error:h[M],p:a(f[M]/h[M],dgfr)});var ar="\nCovariance Matrix Terms and Error-Correlations...\n";for(Z=0;Z<t.cPar;Z++)for(m=Z;m<t.cPar;m++)g[l(Z,m)]=c[l(Z,m)]*RMS*RMS,v=c[l(Z,m)]/Math.sqrt(c[l(Z,Z)]*c[l(m,m)]),ar+="B("+(Z+1)+","+(m+1)+")=",Z!=m&&(ar+="B("+(m+1)+","+(Z+1)+")="),ar+=" ",ar+=g[l(Z,m)],ar+="; r="+v+"\n";return{text:I,ParameterEstimates:nr,CovarianceMatrix:ar,r2:i(rr),par:{ca:f[0],sa:h[0],pva:i(a(f[0]/h[0],dgfr)),cb:f[1],sb:h[1],pvb:i(a(f[1]/h[1],dgfr)),cc:f[2],sc:h[2],pvc:i(a(f[2]/h[2],dgfr)),cd:f[3],sd:h[3],pvd:i(a(f[3]/h[3],dgfr)),ce:f[4],se:h[4],pve:i(a(f[4]/h[4],dgfr)),cf:f[5],sf:h[5],pvf:i(a(f[5]/h[5],dgfr)),cg:f[6],sg:h[6],pvg:i(a(f[6]/h[6],dgfr)),ch:f[7],sh:h[7],pvh:i(a(f[7]/h[7],dgfr))},parameters:er,RMS_error:RMS,presets:n}}function A(r,t,n,e,a,o,u,s,i,l,f){return"b + a * e(- x / c)"==r?n+t*Math.exp(-l/e):"( a - c ) * e( - b * t ) + c"==r?(t-e)*Math.exp(-n*f)+e:"( c + a / ( 1 + b / x ) )"==r?e+t/(1+n/l):"( c + a * a / ( 1 + b / x ) )"==r?e+t*t/(1+n/l):null}var T,R={},P=[];for(it=0;it<n.iterations;it++){var S=N(r,n,e);if(T<=S.RMS_error&&it>1||isNaN(S.RMS_error))break;e=S.par,T=S.RMS_error,R=S,P.push(S.RMS_error)}return R.iterations=it,R.RMS_errors=P,delete R.par,R}function TransformTrace(r,t,n){var e=[];if(void 0===r||-1==["add","subtract","multiply","divide","+","-","*","/","normToMin","normToMax","normToRange","normToIdx","normToVal","ma","sgf","abs"].indexOf(r)||void 0===t||!Array.isArray(t))return"Unknown Function";if(void 0!==n&&Array.isArray(n)&&t.length!=n.length)return"Arrays have different sizes (a1 = "+t.length+", a2 = "+n.length+")";if(void 0!==n&&!Array.isArray(n)&&"number"!=typeof n)return"Input for third parameter needs to be an array or number";if("number"==typeof n)e=t.map(function(e){return"add"==r||"+"==r?e+n:"subtract"==r||"-"==r?e-n:"multiply"==r||"*"==r?e*n:"divide"==r||"/"==r||"normToVal"==r?e/n:"normToIdx"==r?e/t[n]:"abs"==r?-Math.log(e/n)/Math.LN10:void 0});else if(void 0===n){if("normToMin"==r){var a=Math.min.apply(Math,t);e=t.map(function(r){return r/a})}if("normToMax"==r){var o=Math.max.apply(Math,t);e=t.map(function(r){return r/o})}if("normToRange"==r){a=Math.min.apply(Math,t),o=Math.max.apply(Math,t);e=t.map(function(r){return(r-a)/(o-a)})}if("ma"==r){var u=[];t.unshift(t[0]),t.push(t[t.length-1]);for(var s=1,i=t.length;s<i-1;s++)u.push((t[s]+t[s-1]+t[s+1])/3);e=u}if("sgf"==r){i=t.length;var l=t[0],f=t[1],h=t[2],p=t[i-1],c=t[i-2],g=t[i-3];u=[];t.unshift(h,f,l),t.push(p,c,g);for(s=3;s<i-3;s++)u.push((-2*t[s-3]+3*t[s-2]+6*t[s-1]+7*t[s]+6*t[s+1]+3*t[s+2]+-2*t[s+2])/21);e=u}if("abs"==r)for(var s in t)e.push(-Math.log(t[s]/t[0])/Math.LN10)}else if("string"==typeof n)e=t.map(function(t){return"add"==r||"+"==r?t+n:"subtract"==r||"-"==r?t-n:"multiply"==r||"*"==r?t*n:"divide"==r||"/"==r?t/n:void 0});else{if(!Array.isArray(n))return null;for(var s in t)"add"!=r&&"+"!=r||e.push(t[s]+n[s]),"subtract"!=r&&"-"!=r||e.push(t[s]-n[s]),"multiply"!=r&&"-"!=r||e.push(t[s]*n[s]),"divide"!=r&&"/"!=r||e.push(t[s]/n[s])}return e}function MathMULTREG(r){if(void 0===r||!Array.isArray(r))return null;for(var t=r[0].length-1,n=[],e=0;e<r[0].length;e++){for(var a=[],o=0;o<r.length;o++)a.push(r[o][e]);n.push(a)}var u=[],s=[];for(e=0;e<n[0].length;e++)s.push(1);u.push(s);var i=[];for(e=0;e<t;e++)u.push(n[e]),i.push(n[e]);var l=n[t],f=QRDecomp(u=transpose(u)),h=dot(inv(f.R),dot(transpose(f.Q),l)),p=0;for(e=0;e<l.length;e++)p+=l[e];var c=p/l.length,g=[];for(e=0;e<l.length;e++){var v=0;for(o=0;o<t;o++)v+=h[o+1]*u[e][o+1];v+=h[0],g.push(v)}var d=0,M=0;for(e=0;e<l.length;e++)d+=(g[e]-c)*(g[e]-c),M+=(l[e]-c)*(l[e]-c);return{rsquared:d/M,slopes:h,points:[i,g]}}function MathEXPINVREG(r){if(void 0===r||!Array.isArray(r))return null;var t=[];for(u=0;u<r.length;u++)t.push(r[u][1]);var n=0,e=0;for(u=0;u<t.length-1;u++)n+=g=(t[u]+t[u+1])/2,e+=g=(Math.pow(t[u],2)+Math.pow(t[u+1],2))/2;for(var a=(e-n*(t[0]+t[t.length-1])/2)/(n-t.length*(t[0]+t[t.length-1])/2),o=clone(r),u=0;u<r.length;u++)(g=r[u][1]-a)<0&&(g*=-1),o[u][1]=MathLN(g);var s,i,l,f=[.5],h=50;for(u=0;u<10;u++){if(h<2){i=-999999,l=0;break}s=h;var p=MathMULTREG(o.slice(0,h));h=MathROUND(-1/p.slopes[1]*f[0],0),9==u&&(h=h>s?h:s,p=MathMULTREG(o.slice(0,h))),i=p.slopes[1],l=Math.pow(Math.E,p.slopes[0])}var c=[];for(u=0;u<r.length;u++){var g=[];g.push(r[u][0]),g.push(l*Math.pow(Math.E,r[u][0]*i)+a),c.push(g)}var v=0;for(u=0;u<r.length;u++)v+=Math.pow(l*Math.pow(Math.E,r[u][0]*i)-r[u][1]+a,2);var d=-1/i,M=-1*l*i;return{points:c,results:[l,i],error:v/=r.length-1,asymptote:a,rsquared:p.rsquared,lifetime:d,slope:M}}function MathPOLYREG(r,t){for(var n=[],e=0;e<r.length;e++){for(var a=[],o=1;o<t+1;o++)a.push(Math.pow(r[e][0],o));a.push(r[e][1]),n.push(a)}var u=MathMULTREG(n).slopes,s=[],i=0;for(e=0;e<r.length;e++){var l=0;for((a=[]).push(r[e][0]),o=0;o<t+1;o++)l+=Math.pow(r[e][0],t)*u[o];a.push(l),s.push(a),i+=Math.pow(l-r[e][1],2)}return{points:s,slopes:u,error:i/=r.length-1}}function subVV(r,t){for(var n=[],e=0;e<r.length;e++)n.push(r[e]-t[e]);return n}function proj(r,t){for(var n=innerProd(r,r),e=innerProd(r,t),a=[],o=0;o<r.length;o++)a[o]=e/n*r[o];return a}function innerProd(r,t){if(r.length==t.length){for(var n=0,e=0;e<r.length;e++)n+=r[e]*t[e];return n}}function normal(r){for(var t=0,n=0;n<r.length;n++)t+=r[n]*r[n];return t=Math.sqrt(t)}function QRDecomp(r){for(var t=transpose(r),n=[],e=[],a=[],o=[],u=[],s=0;s<t.length;s++){n[s]=[];for(var i=0;i<t[s].length;i++)o[i]=0;for(i=0;i<s;i++){var l=proj(e[i],t[s]);for(p=0;p<l.length;p++)o[p]+=l[p]}for(i=0;i<t[s].length;i++)n[s][i]=t[s][i]-o[i];var f=normal(n[s]);for(e[s]=[],a[s]=[],i=0;i<t[s].length;i++)e[s][i]=n[s][i]/f,a[s][i]=n[s][i]+" / "+f}for(s=0;s<t.length;s++){for(u[s]=[],i=0;i<t[s].length;i++)u[s][i]=0;for(i=0;i<=s;i++)for(var h=innerProd(t[s],e[i]),p=0;p<e[s].length;p++)u[s][p]+=e[i][p]*h}e=transpose(e),a=transpose(a);var c={Q:[]};for(s=0;s<e.length;s++)c.Q[s]=a[s];for(s=0;s<e.length;s++)c.Q[s]=e[s];return c.R=dot(transpose(c.Q),r),c}function transpose(r){var t,n,e,a,o,u=r.length,s=r[0].length,i=new Array(s);for(n=0;n<s;n++)i[n]=new Array(u);for(t=u-1;t>=1;t-=2){for(a=r[t],e=r[t-1],n=s-1;n>=1;--n)(o=i[n])[t]=a[n],o[t-1]=e[n],(o=i[--n])[t]=a[n],o[t-1]=e[n];0===n&&((o=i[0])[t]=a[0],o[t-1]=e[0])}if(0===t){for(e=r[0],n=s-1;n>=1;--n)i[n][0]=e[n],i[--n][0]=e[n];0===n&&(i[0][0]=e[0])}return i}function _getCol(r,t,n){var e;for(e=r.length-1;e>0;--e)n[e]=r[e][t],n[--e]=r[e][t];0===e&&(n[0]=r[0][t])}function dotVV(r,t){var n,e,a=r.length,o=r[a-1]*t[a-1];for(n=a-2;n>=1;n-=2)e=n-1,o+=r[n]*t[n]+r[e]*t[e];return 0===n&&(o+=r[0]*t[0]),o}function dotMMbig(r,t){var n,e,a,o=_getCol,u=t.length,s=new Array(u),i=r.length,l=t[0].length,f=new Array(i),h=dotVV;for(--u,e=--i;-1!==e;--e)f[e]=new Array(l);for(e=--l;-1!==e;--e)for(o(t,e,s),a=i;-1!==a;--a)n=r[a],f[a][e]=h(n,s);return f}function _dim(r){for(var t=[];"object"==typeof r;)t.push(r.length),r=r[0];return t}function dim(r){var t;return"object"==typeof r?"object"==typeof(t=r[0])?"object"==typeof t[0]?_dim(r):[r.length,t.length]:[r.length]:[]}function clone(r){for(var t=[],n=0;n<r.length;n++){for(var e=[],a=0;a<r[0].length;a++)e.push(r[n][a]);t.push(e)}return t}function diag(r){var t,n,e,a,o=r.length,u=new Array(o);for(t=o-1;t>=0;t--){for(a=new Array(o),n=t+2,e=o-1;e>=n;e-=2)a[e]=0,a[e-1]=0;for(e>t&&(a[e]=0),a[t]=r[t],e=t-1;e>=1;e-=2)a[e]=0,a[e-1]=0;0===e&&(a[0]=0),u[t]=a}return u}function rep(r,t,n){void 0===n&&(n=0);var e,a=r[n],o=new Array(a);if(n===r.length-1){for(e=a-2;e>=0;e-=2)o[e+1]=t,o[e]=t;return-1===e&&(o[0]=t),o}for(e=a-1;e>=0;e--)o[e]=rep(r,t,n+1);return o}function identity(r){return diag(rep([r],1))}function inv(r){var t,n,e,a,o,u,s,i=dim(r),l=Math.abs,f=i[0],h=i[1],p=clone(r),c=identity(f);for(u=0;u<h;++u){var g=-1,v=-1;for(o=u;o!==f;++o)(s=l(p[o][u]))>v&&(g=o,v=s);for(n=p[g],p[g]=p[u],p[u]=n,a=c[g],c[g]=c[u],c[u]=a,r=n[u],s=u;s!==h;++s)n[s]/=r;for(s=h-1;-1!==s;--s)a[s]/=r;for(o=f-1;-1!==o;--o)if(o!==u){for(t=p[o],e=c[o],r=t[u],s=u+1;s!==h;++s)t[s]-=n[s]*r;for(s=h-1;s>0;--s)e[s]-=a[s]*r,e[--s]-=a[s]*r;0===s&&(e[0]-=a[0]*r)}}return c}function dotMV(r,t){var n,e=r.length,a=new Array(e),o=dotVV;for(n=e-1;n>=0;n--)a[n]=o(r[n],t);return a}function dotVM(r,t){var n,e,a,o,u,s,i;for(a=r.length,o=t[0].length,u=new Array(o),e=o-1;e>=0;e--){for(s=r[a-1]*t[a-1][e],n=a-2;n>=1;n-=2)i=n-1,s+=r[n]*t[n][e]+r[i]*t[i][e];0===n&&(s+=r[0]*t[0][e]),u[e]=s}return u}function dotMMsmall(r,t){var n,e,a,o,u,s,i,l,f,h,p;for(o=r.length,u=t.length,s=t[0].length,i=new Array(o),n=o-1;n>=0;n--){for(l=new Array(s),f=r[n],a=s-1;a>=0;a--){for(h=f[u-1]*t[u-1][a],e=u-2;e>=1;e-=2)p=e-1,h+=f[e]*t[e][a]+f[p]*t[p][a];0===e&&(h+=f[0]*t[0][a]),l[a]=h}i[n]=l}return i}function mulVS(r,t){for(var n=0;n<r.length;n++)r[n]=r[n]*t;return r}function mulSV(r,t){for(var n=0;n<t.length;n++)t[n]=t[n]*r;return t}function dot(r,t){var n=dim;switch(1e3*n(r).length+n(t).length){case 2002:return t.length<10?dotMMsmall(r,t):dotMMbig(r,t);case 2001:return dotMV(r,t);case 1002:return dotVM(r,t);case 1001:return dotVV(r,t);case 1e3:return mulVS(r,t);case 1:return mulSV(r,t);case 0:return r*t;default:throw new Error("numeric.dot only works on vectors and matrices")}}module.exports.info=info,module.exports.warning=warning,module.exports.danger=danger,module.exports.MathMULTREG=MathMULTREG,module.exports.MathEXPINVREG=MathEXPINVREG,module.exports.MathPOLYREG=MathPOLYREG,module.exports.subVV=subVV,module.exports.proj=proj,module.exports.innerProd=innerProd,module.exports.normal=normal,module.exports.QRDecomp=QRDecomp,module.exports.transpose=transpose,module.exports._getCol=_getCol,module.exports.dotVV=dotVV,module.exports.dotMMbig=dotMMbig,module.exports._dim=_dim,module.exports.dim=dim,module.exports.clone=clone,module.exports.diag=diag,module.exports.rep=rep,module.exports.identity=identity,module.exports.inv=inv,module.exports.dotMV=dotMV,module.exports.dotVM=dotVM,module.exports.dotMMsmall=dotMMsmall,module.exports.mulVS=mulVS,module.exports.mulSV=mulSV,module.exports.dot=dot;